## CSS 变量

CSS 变量骚操作很多，也是该笔记中唯一需要 JS 操作的内容

> CSS 变量又名 CSS 自定义属性，指可在整个文档中重复使用的值。它由自定义属性--var 和函数 var()组成，var()用于引用自定义属性

使用 CSS 变量有以下好处

- 减少样式代码的重复性
- 增加样式代码的扩展性
- 提高样式代码的灵活性
- 增多一种 CSS 与 JS 的通讯方式
- 不用深层遍历 DOM 改变某个样式

---

CSS 的变量对比 Sass 变量和 Less 变量有它的过人之处

- 浏览器原生特性, 无需经过任何转译可直接运行
- DOM 对象一员，极大便利了 CSS 与 JS 间的联系

---

## 介绍 CSS 变量的使用方法：

### 一、变量的声明

声明变量的时候，变量名前面要加两根连词线(--)

```
body { --foo: #7F583F; --bar: #F7EFD2; }
```

CSS 变量又叫做 “CSS 自定义属性”， 变量和自定义的 CSS 属性其实是一回事

> 注意： 变量名大小写敏感: --header-color 和 --Header-Color 是两个不同变量
> 注意： 各种值都可以放入 CSS 变量

```
: root {
  --main-color: #4d4e53;
  --main-bg: rgb(255, 255, 255);
}
```

### 二、var()函数

`var()`函数用于读取变量

```
a {
  color: var(--foo);
  text-decoration-color: var(--bar);
}
```

`var()`函数还可以使用第二个参数，表示变量的默认值。如果变量不存在，就会使用这个默认值。

```
color: var(--foo, #7F583F)
```

`var()`函数还可以用在变量的声明

```
:root {
  --primary-color: red;
  --logo-text: var(--primary-color);
}
```

**注意 🚫：** 变量值只能用作属性值，不能用作属性名

```
.foo {
  --side: margin-top;
  /* 无效 */
  var(--side): 20px;
}
```

变量`--side`用作属性名，这是无效的！

### 三、变量值的类型

如果变量值是一个字符串，可以与其他字符串拼接

```
--bar: 'hello';
--foo: var(--bar)' world'
```

但是如果变量值是数值，不能与数值单位直接连用

```
.foo {
  --gap: 20;
  /* 无效 */
  margin-top: var(--gap)px;  // 这是错误的
}
```

上面代码中，数值与单位直接写在一起，这是无效的。必须使用`calc()`函数,将它们连接。

```
.foo {
  --gap: 20;
  margin-top: calc(var(--gap) * 1px);
}

```

如果变量值带有单位，就不能写成字符串

```
/* 无效 */
.foo {
  --foo: '20px';
  font-size: var(--foo);
}

/* 有效 */
.foo {
  --foo: 20px;
  font-size: var(--foo);
}
```

### 四、作用域

...待完成

---

简单总结**CSS 变量**用法：

- 声明： --变量名
- 读取： var(--变量名, 默认值)
- 类型
  - 普通：只能用作`属性值`不能用作`属性名`
  - 字符：与字符串连接`"Hello, "var(--width) * 10px"`

* 作用域：

  - 范围：在`当前节点块作用域`及其`子节点块作用域`下有效
  - 优先级别：内联样式 = 外联样式 > ID 选择器 > 类选择器 = 伪类选择器 = 属性选择器 > 标签选择器 = 伪元素选择器 > 通配选择器 = 后代选择器 = 兄弟选择器

  ## 场景

  CSS 变量有一个特别好的使用场景，那就是结合`List集合`使用

---

未完~ 因为有些东西还不懂
